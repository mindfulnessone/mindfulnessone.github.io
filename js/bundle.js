!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t){return null==t?"":t}function a(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function p(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e){t.value=null==e?"":e}let v;function b(t){v=t}function w(t){(function(){if(!v)throw new Error("Function called outside component initialization");return v})().$$.on_mount.push(t)}const $=[],g=[],y=[],j=[],x=Promise.resolve();let _=!1;function k(){_||(_=!0,x.then(P))}function S(t){y.push(t)}let E=!1;const C=new Set;function P(){if(!E){E=!0;do{for(let t=0;t<$.length;t+=1){const e=$[t];b(e),A(e.$$)}for(b(null),$.length=0;g.length;)g.pop()();for(let t=0;t<y.length;t+=1){const e=y[t];C.has(e)||(C.add(e),e())}y.length=0}while($.length);for(;j.length;)j.pop()();_=!1,E=!1,C.clear()}}function A(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(S)}}const H=new Set;function q(s,i,a,c,l,d,f=[-1]){const p=v;b(s);const m=i.props||{},h=s.$$={fragment:null,ctx:null,props:d,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:n(),dirty:f,skip_bound:!1};let w=!1;if(h.ctx=a?a(s,m,(t,e,...n)=>{const o=n.length?n[0]:e;return h.ctx&&l(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),w&&function(t,e){-1===t.$$.dirty[0]&&($.push(t),k(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(s,t)),e}):[],h.update(),w=!0,o(h.before_update),h.fragment=!!c&&c(h.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);h.fragment&&h.fragment.l(t),t.forEach(u)}else h.fragment&&h.fragment.c();i.intro&&((g=s.$$.fragment)&&g.i&&(H.delete(g),g.i(y))),function(t,n,s){const{fragment:i,on_mount:a,on_destroy:c,after_update:u}=t.$$;i&&i.m(n,s),S(()=>{const n=a.map(e).filter(r);c?c.push(...n):o(n),t.$$.on_mount=[]}),u.forEach(S)}(s,i.target,i.anchor),P()}var g,y;b(p)}var D="https://js.stripe.com/v3",L=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,T="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",z=null,F=function(t){return null!==z?z:z=new Promise((function(e,n){if("undefined"!=typeof window)if(window.Stripe&&t&&console.warn(T),window.Stripe)e(window.Stripe);else try{var o=function(){for(var t=document.querySelectorAll('script[src^="'.concat(D,'"]')),e=0;e<t.length;e++){var n=t[e];if(L.test(n.src))return n}return null}();o&&t?console.warn(T):o||(o=function(t){var e=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(D).concat(e);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(n),n}(t)),o.addEventListener("load",(function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))})),o.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(t){return void n(t)}else e(null)}))},I=function(t,e,n){if(null===t)return null;var o=t.apply(void 0,e);return function(t,e){t&&t._registerWrapper&&t._registerWrapper({name:"stripe-js",version:"1.10.0",startTime:e})}(o,n),o},W=Promise.resolve().then((function(){return F(null)})),B=!1;W.catch((function(t){B||console.warn(t)}));function N(e){let n,r,s,v,b,w,$,g,y,j,x,_,k,S,E,C,P,A,H,q,D,L,T,z,F,I,W,B,N,O,U,M,X,Y,G,Z,J,K;return{c(){n=l("a"),n.textContent="Donate",r=f(),s=l("div"),v=l("div"),b=l("span"),b.textContent="×",w=f(),$=l("h3"),$.textContent="How much would you like to donate?",g=f(),y=l("div"),j=l("div"),x=l("input"),k=f(),S=l("p"),S.textContent=".00",E=f(),C=l("p"),C.textContent=" CAD",P=f(),A=l("div"),H=l("button"),q=d("Donate once"),L=f(),T=l("button"),z=d("Donate every month"),I=f(),W=l("button"),B=d("Donate"),U=f(),M=l("div"),X=l("p"),Y=d(e[4]),m(n,"class","donate-link svelte-j6m16s"),m(b,"class","close svelte-j6m16s"),m($,"class","modal-header svelte-j6m16s"),m(x,"type","text"),m(x,"class",_="price-input "+(e[2]?"price-input-hover":"")+" svelte-j6m16s"),m(x,"pattern","[0-9]*"),m(x,"placeholder"," "),m(S,"class","price-label svelte-j6m16s"),m(C,"class","price-label-small svelte-j6m16s"),m(j,"class","input-row svelte-j6m16s"),m(H,"class",D=(e[3]?"inactive-button":"active-button")+" recurring-button svelte-j6m16s"),m(T,"class",F=(e[3]?"active-button":"inactive-button")+" recurring-button svelte-j6m16s"),m(A,"class","recurring-buttons svelte-j6m16s"),W.disabled=N=e[5]||!e[0],m(W,"class",O=(e[5]?"donate-button-disabled":"")+" donate-button svelte-j6m16s"),m(X,"class",G=i(e[5]?"disclaimer-error":"disclaimer")+" svelte-j6m16s"),m(M,"class","disclaimer-container svelte-j6m16s"),m(y,"class","modal-content svelte-j6m16s"),m(v,"class","modal-body"),m(s,"id","myModal"),m(s,"class",Z="modal "+(e[6]?"modal-visible":"modal-hidden")+" svelte-j6m16s")},m(t,o){c(t,n,o),c(t,r,o),c(t,s,o),a(s,v),a(v,b),a(v,w),a(v,$),a(v,g),a(v,y),a(y,j),a(j,x),h(x,e[0]),e[17](x),a(j,k),a(j,S),a(j,E),a(j,C),a(y,P),a(y,A),a(A,H),a(H,q),a(A,L),a(A,T),a(T,z),a(y,I),a(y,W),a(W,B),a(y,U),a(y,M),a(M,X),a(X,Y),J||(K=[p(n,"click",e[7]),p(b,"click",e[8]),p(x,"input",e[16]),p(x,"keydown",e[9]),p(S,"mouseenter",e[12]),p(S,"mouseleave",e[13]),p(S,"click",e[14]),p(C,"mouseenter",e[12]),p(C,"mouseleave",e[13]),p(C,"click",e[14]),p(H,"click",e[18]),p(T,"click",e[19]),p(W,"click",e[11])],J=!0)},p(t,[e]){4&e&&_!==(_="price-input "+(t[2]?"price-input-hover":"")+" svelte-j6m16s")&&m(x,"class",_),1&e&&x.value!==t[0]&&h(x,t[0]),8&e&&D!==(D=(t[3]?"inactive-button":"active-button")+" recurring-button svelte-j6m16s")&&m(H,"class",D),8&e&&F!==(F=(t[3]?"active-button":"inactive-button")+" recurring-button svelte-j6m16s")&&m(T,"class",F),33&e&&N!==(N=t[5]||!t[0])&&(W.disabled=N),32&e&&O!==(O=(t[5]?"donate-button-disabled":"")+" donate-button svelte-j6m16s")&&m(W,"class",O),16&e&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(Y,t[4]),32&e&&G!==(G=i(t[5]?"disclaimer-error":"disclaimer")+" svelte-j6m16s")&&m(X,"class",G),64&e&&Z!==(Z="modal "+(t[6]?"modal-visible":"modal-hidden")+" svelte-j6m16s")&&m(s,"class",Z)},i:t,o:t,d(t){t&&u(n),t&&u(r),t&&u(s),e[17](null),J=!1,o(K)}}}function O(t,e,n){let o,{useHash:r=!1}=e,s="",i=!1,a=!1,c="",u=!1,l="#donate"===window.location.hash&&r;function d(t){n(3,a=t)}async function f(t){(await function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];B=!0;var o=Date.now();return W.then((function(t){return I(t,e,o)}))}("pk_live_TsW6sy751tsXWBIPnzpTUZrI00HePBpp4m")).redirectToCheckout({items:[t],successUrl:"https://www.mindfulness.one/success/",cancelUrl:"https://www.mindfulness.one/#donate"}).then((function(t){}))}w(async()=>{o.focus()});let p,m;return t.$$set=t=>{"useHash"in t&&n(15,r=t.useHash)},t.$$.update=()=>{1&t.$$.dirty&&n(20,p=parseInt(s,10)),1048585&t.$$.dirty&&(s?s.match(/^[0-9]*$/)?parseInt(s,10)<1?(n(5,u=!0),n(4,c="Please input whole number bigger than zero.")):(n(5,u=!1),n(4,c="Your card will be charged "+p+".00 CAD"+(a?" and then billed "+p+".00 CAD each month":"")+".")):(n(5,u=!0),n(4,c="Please input whole number bigger than zero.")):(n(5,u=!1),n(4,c="Please write number into the box."))),3145728&t.$$.dirty&&n(21,m=5!==p&&10!==p&&20!==p&&100!==p||m)},[s,o,i,a,c,u,l,async function(){window.location.hash="#donate",n(6,l=!0),await(k(),x),o.focus()},function(){window.location.hash="",n(6,l=!1)},function(){n(21,m=!0)},d,async function(){a?await f({plan:"plan_H1joqlfPdhtEeb",quantity:p}):await f({sku:"sku_H1jmGgXLYfix4y",quantity:p})},function(){n(2,i=!0)},function(){n(2,i=!1)},function(){o.focus()},r,function(){s=this.value,n(0,s)},function(t){g[t?"unshift":"push"](()=>{o=t,n(1,o)})},()=>d(!1),()=>d(!0)]}class U extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),q(this,t,O,N,s,{useHash:15})}}new U({target:document.querySelector("#donate-button-menu")}),new U({target:document.querySelector("#donate-button-footer"),props:{useHash:!0}})}();
//# sourceMappingURL=bundle.js.map
